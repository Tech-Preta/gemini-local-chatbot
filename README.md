
# Gemini Local Chatbot

A simple, locally-runnable web-based chatbot powered by the Google Gemini API. This application allows users to interact with a Gemini model through a chat interface directly in their browser.

## Features

*   Interactive chat interface.
*   Powered by Google Gemini API (`gemini-2.5-flash-preview-04-17` model).
*   Streaming responses for a real-time feel.
*   Markdown rendering for AI messages (supports formatting like bold, italics, code blocks, lists).
*   Light/Dark mode support (adapts to OS/browser preference).
*   Responsive design for various screen sizes.
*   Runnable locally via Docker (recommended) or directly in a browser with manual API key setup.

## Prerequisites

*   **Docker**: Required for the containerized deployment (recommended). Download from [docker.com](https://www.docker.com/products/docker-desktop/).
*   **A Google Gemini API Key**: You need an API key to use the Gemini API.
    *   Obtain one from [Google AI Studio](https://aistudio.google.com/app/apikey).
*   **Node.js and npm** (Optional): If you choose to run the application outside of Docker (e.g., for development or using a different local server). `http-server` (a Node.js package) is used in the Docker setup and can be used locally.

## Project Structure

```
.
├── Dockerfile            # Instructions to build the Docker image
├── README.md             # This documentation file
├── env-config.js       # (Generated by start-server.sh or created manually) Injects API_KEY
├── index.css             # Styles for the application
├── index.html            # Main HTML file, application entry point
├── index.tsx             # Core application logic (JavaScript)
├── metadata.json         # Application metadata (not directly used by the app runtime)
└── start-server.sh       # Script to run inside the Docker container (sets up API_KEY & starts server)
```

## API Key Handling

The application requires a Google Gemini API Key to function.

*   The `index.tsx` script expects the API key to be available as `window.API_KEY`.
*   **Via Docker (Recommended)**: The `API_KEY` is passed as an environment variable to the `docker run` command. The `start-server.sh` script within the container then creates an `env-config.js` file that assigns this key to `window.API_KEY`.
*   **Local/Manual Setup**: If not using Docker, you must manually create a file named `env-config.js` in the project's root directory.

**`env-config.js` (Manual Creation Example):**
```javascript
// Create this file manually if not using Docker
window.API_KEY = "YOUR_ACTUAL_GEMINI_API_KEY";
```
Replace `"YOUR_ACTUAL_GEMINI_API_KEY"` with your real API key.

**Important Security Note**:
*   Never commit your API key directly into `index.tsx` or any other file that is version controlled (e.g., in a Git repository).
*   The `.gitignore` file (if you are using Git) should ideally list `env-config.js` to prevent accidental commits of your key if you create it manually.

## Setup and Running

### Option 1: Running with Docker (Recommended)

1.  **Ensure Docker is installed and running.**
2.  **Clone the repository or download the files** into a local directory.
3.  **Open a terminal or command prompt** in the project's root directory (where the `Dockerfile` is located).
4.  **Build the Docker image:**
    ```bash
    docker build -t gemini-chatbot .
    ```
5.  **Run the Docker container:**
    Replace `YOUR_GEMINI_API_KEY` with your actual Gemini API Key.
    ```bash
    docker run -p 8080:8080 -e API_KEY="YOUR_GEMINI_API_KEY" --name meu-gemini-chatbot gemini-chatbot
    ```
    *   `-p 8080:8080`: Maps port 8080 of the container to port 8080 on your host machine.
    *   `-e API_KEY="YOUR_GEMINI_API_KEY"`: Sets the `API_KEY` environment variable inside the container.
    *   `--name meu-gemini-chatbot`: (Optional) Assigns a name to your container for easier management.

6.  **Access the application**: Open your web browser and navigate to `http://localhost:8080`.

To stop the container: `docker stop meu-gemini-chatbot` (or use the container ID).
To remove the container: `docker rm meu-gemini-chatbot`.

### Option 2: Running Directly in the Browser (Manual API Key Setup)

1.  **Ensure Node.js and npm are installed** (if you want to use `http-server`).
2.  **Clone the repository or download the files.**
3.  **Create `env-config.js`**: In the project's root directory, create a file named `env-config.js` with your API key:
    ```javascript
    window.API_KEY = "YOUR_ACTUAL_GEMINI_API_KEY";
    ```
4.  **Serve the application**:
    You need a local web server to serve the files due to ES module imports and to avoid CORS issues with potential future API interactions (though Gemini SDK handles much of this).
    *   **Using `http-server` (Node.js package):**
        If you don't have it, install it globally:
        ```bash
        npm install -g http-server
        ```
        Then, from the project's root directory, run:
        ```bash
        http-server . -p 8080 -o
        ```
        This will start the server and usually open the application in your default browser at `http://localhost:8080`. The `-o` flag opens the browser automatically. The `-p 8080` sets the port.
    *   **Using other local servers**: Any simple static file server will do. Python's `http.server` or VS Code's Live Server extension are other options.

5.  **Access the application**: If not opened automatically, navigate to `http://localhost:8080` (or the port your server is using).

## Core Technologies Used

*   **@google/genai**: The official Google Generative AI SDK for JavaScript to interact with the Gemini API.
*   **marked**: A JavaScript library for parsing Markdown and rendering it as HTML. Used to display AI responses with rich formatting.
*   **HTML5, CSS3, JavaScript (ES Modules)**: Standard web technologies for the application structure, styling, and client-side logic.
*   **Docker**: For containerization and simplified deployment.
*   **http-server**: A simple, zero-configuration command-line HTTP server (used in Docker and optionally for local serving).

## Troubleshooting

*   **"API key not configured" error**:
    *   **Docker**: Ensure you passed the `-e API_KEY="YOUR_KEY"` correctly in the `docker run` command. Check Docker container logs (`docker logs meu-gemini-chatbot`) for messages from `start-server.sh`.
    *   **Local**: Make sure `env-config.js` exists in the root directory and correctly defines `window.API_KEY = "YOUR_KEY";`. Double-check for typos.
*   **Chat not initializing or messages not sending**:
    *   Open your browser's developer console (usually F12) and check for JavaScript errors.
    *   Verify your Gemini API Key is valid and has the necessary permissions/billing enabled if required by Google.
    *   Ensure you have an internet connection.
*   **`403 Forbidden` or other API errors**: This usually indicates an issue with your API key (invalid, expired, billing not set up, or incorrect API endpoint/permissions for the key type).
